{"changed":true,"filter":false,"title":"canvas.html.erb","tooltip":"/app/views/home/canvas.html.erb","value":"<!--<html>-->\n<!--<head>-->\n<!--\t<title> Canvas </title>-->\n<!--</head>-->\n<!--<body style = 'margin: 0'>-->\n<!--\t<canvas id = \"canvas\">-->\n<!--\ttext-->\n<!--\t</canvas>-->\n<!--\t<script src=\"application.js\"></script>-->\n<!--</body>-->\n<!--<body>-->\n<!--    <script type=\"text/javascript\">-->\n<!--        document.write(\"werkl\");-->\n<!--    </script>-->\n<!--</body>-->\n<!--</html>-->\n<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title>Paint</title>\n\t\t<style>\n\t\t\t#container { position: relative; }\n\t\t\t#imageView { border: 1px solid #000; }\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"container\">\n\t\t\t<canvas id=\"imageView\" width=\"400\" height=\"300\">\n\t\t\t\t<p>Unfortunately, your browser is currently unsupported by our web application. We are sorry for the inconvenience. Please use one of the supported browsers listed below, or draw the image you want using an offline tool.</p>\n\t\t\t\t<p>Supported browsers: <a href=\"http://www.opera.com\">Opera</a>, <a href=\"http://www.mozilla.com\">Firefox</a>, <a href=\"http://www.apple.com/safari\">Safari</a>, and <a href=\"http://www.konqueror.org\">Konqueror</a>.</p>\n\t\t\t</canvas>\n\t\t</div>\n\t\t<script type=\"javascript\">\n\t\t  function init () {\n\t// The pencil tool instance\n\ttool = new tool_pencil();\n\n\t// Attach the mousedown, mousemove and mouseup event listeners\n\tcanvas.addEventListener('mousedown', ev_canvas, false);\n\tcanvas.addEventListener('mousemove', ev_canvas, false);\n\tcanvas.addEventListener('mouseup',\t ev_canvas, false);\n}\n\n// This painting tool works like a drawing\n// pencil which tracks the mouse movements\nfunction tool_pencil () {\n\tvar tool = this;\n\tthis.started = false;\n\n\t// This is called when you start holding down the mouse button\n\t// This starts the pencil drawing\n\tthis.mousedown = function (ev) {\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo(ev._x, ev._y);\n\t\t\ttool.started = true;\n\t};\n\n\t// This function is called every time you move the mouse. Obviously, it only\n\t// draws if the tool.started state is set to true (when you are holding down\n\t// the mouse button)\n\tthis.mousemove = function (ev) {\n\t\tif (tool.started) {\n\t\t\tcontext.lineTo(ev._x, ev._y);\n\t\t\tcontext.stroke();\n\t\t}\n\t};\n\n\t// This is called when you release the mouse button\n\tthis.mouseup = function (ev) {\n\t\tif (tool.started) {\n\t\t\ttool.mousemove(ev);\n\t\t\ttool.started = false;\n\t\t}\n\t};\n}\n\n// The general-purpose event handler. This function just determines\n// the mouse position relative to the <canvas> element\nfunction ev_canvas (ev) {\n\t// Firefox\n\tif (ev.layerX || ev.layerX == 0) {\n\t\tev._x = ev.layerX;\n\t\tev._y = ev.layerY;\n\t// Opera\n\t} else if (ev.offsetX || ev.offsetX == 0) {\n\t\tev._x = ev.offsetX;\n\t\tev._y = ev.offsetY;\n\t}\n\n\t// Call the event handler of the tool\n\tvar func = tool[ev.type];\n\tif (func) {\n\t\tfunc(ev);\n\t}\n}\n}\n\t\t</script>\n\t</body>\n</html>","undoManager":{"mark":-87,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":11,"column":5},"end":{"row":11,"column":6},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":6},"end":{"row":11,"column":7},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":7},"end":{"row":11,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":8},"end":{"row":11,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":9},"end":{"row":11,"column":10},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":10},"end":{"row":11,"column":11},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":11},"end":{"row":11,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":12},"end":{"row":11,"column":13},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":14},"end":{"row":11,"column":15},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":16},"end":{"row":11,"column":17},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":17},"end":{"row":11,"column":19},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":18},"end":{"row":11,"column":19},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":19},"end":{"row":11,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":20},"end":{"row":11,"column":21},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":21},"end":{"row":11,"column":22},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":23},"end":{"row":11,"column":24},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":24},"end":{"row":11,"column":25},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":25},"end":{"row":11,"column":26},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":26},"end":{"row":11,"column":27},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":27},"end":{"row":11,"column":28},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":28},"end":{"row":11,"column":29},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":29},"end":{"row":11,"column":30},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":30},"end":{"row":11,"column":31},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":31},"end":{"row":11,"column":32},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":32},"end":{"row":11,"column":33},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":34},"end":{"row":11,"column":44},"action":"insert","lines":["></script>"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":35},"end":{"row":13,"column":4},"action":"insert","lines":["","        ","    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":8},"end":{"row":12,"column":9},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":9},"end":{"row":12,"column":10},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":10},"end":{"row":12,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":11},"end":{"row":12,"column":12},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":12},"end":{"row":12,"column":13},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":14},"end":{"row":12,"column":15},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":15},"end":{"row":12,"column":16},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":16},"end":{"row":12,"column":17},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":17},"end":{"row":12,"column":18},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":18},"end":{"row":12,"column":19},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":19},"end":{"row":12,"column":20},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":20},"end":{"row":12,"column":21},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":21},"end":{"row":12,"column":22},"action":"insert","lines":["z"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":22},"end":{"row":12,"column":23},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":23},"end":{"row":12,"column":24},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":24},"end":{"row":12,"column":25},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":8},"end":{"row":12,"column":26},"action":"remove","lines":["fdasfjadlfafjzfjad"]},{"start":{"row":12,"column":8},"end":{"row":12,"column":9},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":9},"end":{"row":12,"column":10},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":10},"end":{"row":12,"column":11},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":11},"end":{"row":12,"column":12},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":12},"end":{"row":12,"column":13},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":13},"end":{"row":12,"column":14},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":14},"end":{"row":12,"column":15},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":15},"end":{"row":12,"column":16},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":16},"end":{"row":12,"column":17},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":17},"end":{"row":12,"column":18},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":18},"end":{"row":12,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":19},"end":{"row":12,"column":20},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":20},"end":{"row":12,"column":21},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":21},"end":{"row":12,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":22},"end":{"row":12,"column":24},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":23},"end":{"row":12,"column":25},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":24},"end":{"row":12,"column":25},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":27},"end":{"row":12,"column":28},"action":"insert","lines":["k"]},{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":31},"end":{"row":12,"column":32},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":0},"end":{"row":34,"column":7},"action":"insert","lines":["<html lang=\"en\">","\t<head>","\t\t<meta charset=\"utf-8\">","\t\t<title>Paint</title>","\t\t<style>","\t\t\t#container { position: relative; }","\t\t\t#imageView { border: 1px solid #000; }","\t\t</style>","\t</head>","\t<body>","\t\t<div id=\"container\">","\t\t\t<canvas id=\"imageView\" width=\"400\" height=\"300\">","\t\t\t\t<p>Unfortunately, your browser is currently unsupported by our web application. We are sorry for the inconvenience. Please use one of the supported browsers listed below, or draw the image you want using an offline tool.</p>","\t\t\t\t<p>Supported browsers: <a href=\"http://www.opera.com\">Opera</a>, <a href=\"http://www.mozilla.com\">Firefox</a>, <a href=\"http://www.apple.com/safari\">Safari</a>, and <a href=\"http://www.konqueror.org\">Konqueror</a>.</p>","\t\t\t</canvas>","\t\t</div>","\t\t<script src=\"example1.js\"></script>","\t</body>","</html>"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":6},"end":{"row":0,"column":9},"action":"insert","lines":["-->"]},{"start":{"row":0,"column":0},"end":{"row":0,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":1,"column":6},"end":{"row":1,"column":9},"action":"insert","lines":["-->"]},{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":2,"column":24},"end":{"row":2,"column":27},"action":"insert","lines":["-->"]},{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":3,"column":7},"end":{"row":3,"column":10},"action":"insert","lines":["-->"]},{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":10,"column":6},"end":{"row":10,"column":9},"action":"insert","lines":["-->"]},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":11,"column":35},"end":{"row":11,"column":38},"action":"insert","lines":["-->"]},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":12,"column":32},"end":{"row":12,"column":35},"action":"insert","lines":["-->"]},{"start":{"row":12,"column":0},"end":{"row":12,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":13,"column":13},"end":{"row":13,"column":16},"action":"insert","lines":["-->"]},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":14,"column":7},"end":{"row":14,"column":10},"action":"insert","lines":["-->"]},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["<!--"]},{"start":{"row":15,"column":7},"end":{"row":15,"column":10},"action":"insert","lines":["-->"]},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["<!--"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":26},"end":{"row":32,"column":27},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":25},"end":{"row":32,"column":26},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":24},"end":{"row":32,"column":25},"action":"remove","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":23},"end":{"row":32,"column":24},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":22},"end":{"row":32,"column":23},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":21},"end":{"row":32,"column":22},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":20},"end":{"row":32,"column":21},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":19},"end":{"row":32,"column":20},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":18},"end":{"row":32,"column":19},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":17},"end":{"row":32,"column":18},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":16},"end":{"row":32,"column":17},"action":"remove","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":15},"end":{"row":32,"column":16},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":14},"end":{"row":32,"column":15},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":13},"end":{"row":32,"column":14},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":12},"end":{"row":32,"column":13},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":11},"end":{"row":32,"column":12},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":10},"end":{"row":32,"column":11},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":10},"end":{"row":32,"column":11},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":11},"end":{"row":32,"column":12},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":12},"end":{"row":32,"column":13},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":13},"end":{"row":32,"column":14},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":14},"end":{"row":32,"column":15},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":15},"end":{"row":32,"column":17},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":16},"end":{"row":32,"column":17},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":17},"end":{"row":32,"column":18},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":18},"end":{"row":32,"column":19},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":16},"end":{"row":32,"column":19},"action":"remove","lines":["jav"]},{"start":{"row":32,"column":16},"end":{"row":32,"column":26},"action":"insert","lines":["javascript"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":28},"end":{"row":34,"column":2},"action":"insert","lines":["","\t\t    ","\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":6},"end":{"row":62,"column":1},"action":"insert","lines":["function init () {","\t// Attach the mousemove event handler","\tcanvas.addEventListener('mousemove', ev_mousemove, false);","}","","// The mousemove event handler","var started = false;","function ev_mousemove (ev) {","\tvar x, y;","","\t// Get the mouse position relative to the <canvas> element","\tif (ev.layerX || ev.layerX == 0) { // Firefox","\t\tx = ev.layerX;","\t\ty = ev.layerY;","\t} else if (ev.offsetX || ev.offsetX == 0) { // Opera","\t\tx = ev.offsetX;","\t\ty = ev.offsetY;","\t}","","\t// The event handler works like a drawing pencil which","\t// tracks the mouse movements. We start drawing a path made up of lines","\tif (!started) {","\t\tcontext.beginPath();","\t\tcontext.moveTo(x, y);","\t\tstarted = true;","\t} else {","\t\tcontext.lineTo(x, y);","\t\tcontext.stroke();","\t}","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":4},"end":{"row":61,"column":2},"action":"remove","lines":["  function init () {","\t// Attach the mousemove event handler","\tcanvas.addEventListener('mousemove', ev_mousemove, false);","}","","// The mousemove event handler","var started = false;","function ev_mousemove (ev) {","\tvar x, y;","","\t// Get the mouse position relative to the <canvas> element","\tif (ev.layerX || ev.layerX == 0) { // Firefox","\t\tx = ev.layerX;","\t\ty = ev.layerY;","\t} else if (ev.offsetX || ev.offsetX == 0) { // Opera","\t\tx = ev.offsetX;","\t\ty = ev.offsetY;","\t}","","\t// The event handler works like a drawing pencil which","\t// tracks the mouse movements. We start drawing a path made up of lines","\tif (!started) {","\t\tcontext.beginPath();","\t\tcontext.moveTo(x, y);","\t\tstarted = true;","\t} else {","\t\tcontext.lineTo(x, y);","\t\tcontext.stroke();","\t}"]},{"start":{"row":33,"column":4},"end":{"row":94,"column":1},"action":"insert","lines":["function init () {","\t// The pencil tool instance","\ttool = new tool_pencil();","","\t// Attach the mousedown, mousemove and mouseup event listeners","\tcanvas.addEventListener('mousedown', ev_canvas, false);","\tcanvas.addEventListener('mousemove', ev_canvas, false);","\tcanvas.addEventListener('mouseup',\t ev_canvas, false);","}","","// This painting tool works like a drawing","// pencil which tracks the mouse movements","function tool_pencil () {","\tvar tool = this;","\tthis.started = false;","","\t// This is called when you start holding down the mouse button","\t// This starts the pencil drawing","\tthis.mousedown = function (ev) {","\t\t\tcontext.beginPath();","\t\t\tcontext.moveTo(ev._x, ev._y);","\t\t\ttool.started = true;","\t};","","\t// This function is called every time you move the mouse. Obviously, it only","\t// draws if the tool.started state is set to true (when you are holding down","\t// the mouse button)","\tthis.mousemove = function (ev) {","\t\tif (tool.started) {","\t\t\tcontext.lineTo(ev._x, ev._y);","\t\t\tcontext.stroke();","\t\t}","\t};","","\t// This is called when you release the mouse button","\tthis.mouseup = function (ev) {","\t\tif (tool.started) {","\t\t\ttool.mousemove(ev);","\t\t\ttool.started = false;","\t\t}","\t};","}","","// The general-purpose event handler. This function just determines","// the mouse position relative to the <canvas> element","function ev_canvas (ev) {","\t// Firefox","\tif (ev.layerX || ev.layerX == 0) {","\t\tev._x = ev.layerX;","\t\tev._y = ev.layerY;","\t// Opera","\t} else if (ev.offsetX || ev.offsetX == 0) {","\t\tev._x = ev.offsetX;","\t\tev._y = ev.offsetY;","\t}","","\t// Call the event handler of the tool","\tvar func = tool[ev.type];","\tif (func) {","\t\tfunc(ev);","\t}","}"]}]}]]},"ace":{"folds":[],"scrolltop":688.8377485275269,"scrollleft":0,"selection":{"start":{"row":16,"column":0},"end":{"row":98,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":49,"state":"js-start","mode":"ace/mode/html_ruby"}},"timestamp":1427618075733}